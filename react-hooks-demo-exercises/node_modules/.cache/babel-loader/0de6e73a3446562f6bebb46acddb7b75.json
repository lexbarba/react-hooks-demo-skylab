{"ast":null,"code":"import _classCallCheck from \"/Users/alexbarba/bootcamp/react-hooks-demo/marvel-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/alexbarba/bootcamp/react-hooks-demo/marvel-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/alexbarba/bootcamp/react-hooks-demo/marvel-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/alexbarba/bootcamp/react-hooks-demo/marvel-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/alexbarba/bootcamp/react-hooks-demo/marvel-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/alexbarba/bootcamp/react-hooks-demo/marvel-app/src/components/Landing/index.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Route, Link, Redirect, withRouter } from 'react-router-dom';\nimport './index.sass';\nimport logic from '../Logic';\nimport Login from '../Login';\nimport Register from '../Register';\nimport LanguageSelector from '../LanguageSelector';\n\nvar Landing =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Landing, _Component);\n\n  function Landing() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Landing);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Landing)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      modalVisible: false,\n      loginFeedback: null,\n      registrationFeedback: null\n    };\n\n    _this.handleLogin = function (email, password) {\n      try {\n        logic.login(email, password).then(function () {\n          _this.setState({\n            loginFeedback: null\n          });\n\n          _this.props.history.push('/home');\n        }).catch(function (_ref) {\n          var message = _ref.message;\n          return _this.setState({\n            loginFeedback: message\n          });\n        });\n      } catch (message) {\n        _this.setState({\n          loginFeedback: message\n        });\n      }\n    };\n\n    _this.handleRegistration = function (name, surname, email, password, passwordConfirmation) {\n      try {\n        logic.register(name, surname, email, password, passwordConfirmation).then(function () {\n          return _this.setState({\n            modalVisible: true\n          });\n        }).catch(function (_ref2) {\n          var message = _ref2.message;\n          return _this.setState({\n            loginFeedback: message\n          });\n        });\n      } catch (_ref3) {\n        var message = _ref3.message;\n\n        _this.setState({\n          registrationFeedback: message\n        });\n      }\n    };\n\n    _this.handleLanding = function () {\n      _this.setState({\n        loginFeedback: null,\n        registrationFeedback: null\n      });\n\n      _this.props.history.push('/');\n    };\n\n    _this.handleToLogin = function () {\n      _this.setState({\n        loginFeedback: null,\n        registrationFeedback: null,\n        modalVisible: false\n      });\n\n      _this.props.history.push('/login');\n    };\n\n    return _this;\n  }\n\n  _createClass(Landing, [{\n    key: \"render\",\n    value: function render() {\n      var handleLogin = this.handleLogin,\n          handleRegistration = this.handleRegistration,\n          handleToLogin = this.handleToLogin,\n          handleLanding = this.handleLanding,\n          _this$state = this.state,\n          loginFeedback = _this$state.loginFeedback,\n          registrationFeedback = _this$state.registrationFeedback,\n          modalVisible = _this$state.modalVisible,\n          _this$props = this.props,\n          welcome__title = _this$props.welcome__title,\n          welcome__subtitle = _this$props.welcome__subtitle,\n          login = _this$props.login,\n          register = _this$props.register,\n          email = _this$props.email,\n          password = _this$props.password,\n          goBack = _this$props.goBack,\n          name = _this$props.name,\n          surname = _this$props.surname,\n          confirmPassword = _this$props.confirmPassword,\n          modal__feedback = _this$props.modal__feedback;\n      return React.createElement(\"section\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return React.createElement(Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"columns is-mobile is-centered has-text-centered\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"column is-half-widescreen is-three-fifths-tablet is-three-quarters-mobile is-centered margin\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, React.createElement(\"h1\", {\n            className: \"title is-1 white\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }, welcome__title), React.createElement(\"h5\", {\n            className: \"subtitle is-5 white\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, welcome__subtitle), React.createElement(\"div\", {\n            className: \"is-grouped btn_grp\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            className: \"control\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"/login\",\n            className: \"button is-danger is-outlined is-small is-rounded\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, login)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }, \"\\xA0\"), React.createElement(\"p\", {\n            className: \"control\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"/register\",\n            className: \"button is-inverted is-outlined is-danger is-small is-rounded\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }, register))))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/login\",\n        render: function render() {\n          return logic.userLoggedIn ? React.createElement(Redirect, {\n            to: \"/home\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }) : React.createElement(Login, {\n            onLogin: handleLogin,\n            feedback: loginFeedback,\n            onLanding: handleLanding,\n            email: email,\n            password: password,\n            goBack: goBack,\n            login: login,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/register\",\n        render: function render() {\n          return logic.userLoggedIn ? React.createElement(Redirect, {\n            to: \"/home\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }) : React.createElement(Register, {\n            onRegistration: handleRegistration,\n            feedback: registrationFeedback,\n            onLanding: handleLanding,\n            modalVisible: modalVisible,\n            onLogin: handleToLogin,\n            register: register,\n            name: name,\n            surname: surname,\n            email: email,\n            password: password,\n            confirmPassword: confirmPassword,\n            goBack: goBack,\n            modal__feedback: modal__feedback,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Landing;\n}(Component);\n\nexport default withRouter(Landing);","map":{"version":3,"sources":["/Users/alexbarba/bootcamp/react-hooks-demo/marvel-app/src/components/Landing/index.js"],"names":["React","Component","Fragment","Route","Link","Redirect","withRouter","logic","Login","Register","LanguageSelector","Landing","state","modalVisible","loginFeedback","registrationFeedback","handleLogin","email","password","login","then","setState","props","history","push","catch","message","handleRegistration","name","surname","passwordConfirmation","register","handleLanding","handleToLogin","welcome__title","welcome__subtitle","goBack","confirmPassword","modal__feedback","userLoggedIn"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport { Route, Link, Redirect, withRouter } from 'react-router-dom'\nimport './index.sass'\nimport logic from '../Logic'\nimport Login from '../Login'\nimport Register from '../Register'\nimport LanguageSelector from '../LanguageSelector';\n\nclass Landing extends Component {\n\n    state = {modalVisible: false, loginFeedback: null, registrationFeedback: null}\n\n    handleLogin = (email, password) =>{\n        try {\n          logic.login(email, password)\n            .then(() => {\n                this.setState({loginFeedback: null})\n                this.props.history.push('/home')\n\n            })\n            .catch(({message}) => this.setState({ loginFeedback: message }))\n        } catch (message) {\n          this.setState({ loginFeedback: message })\n        }\n    }\n\n    handleRegistration = (name, surname, email, password, passwordConfirmation) => {\n        try {\n            logic.register(name, surname, email, password, passwordConfirmation) \n                .then(()=>this.setState({modalVisible: true}))\n                .catch(({message}) => this.setState({ loginFeedback: message }))\n        } catch ({message}) {\n            this.setState ({registrationFeedback: message})\n        }\n    }\n\n    handleLanding = () => {\n        this.setState({loginFeedback: null, registrationFeedback: null})\n        this.props.history.push('/')\n    }\n\n    handleToLogin = () => {\n        this.setState({loginFeedback: null, registrationFeedback: null, modalVisible: false})\n        this.props.history.push('/login')\n    }\n\n    render() {\n\n        const {handleLogin, handleRegistration, handleToLogin, handleLanding, state:{loginFeedback, registrationFeedback, modalVisible}, props:{welcome__title, welcome__subtitle, login, register, email, password, goBack, name, surname, confirmPassword, modal__feedback}} = this\n\n        return <section className=\"container\">\n        <Route exact path=\"/\" render={() =>\n            <Fragment>\n                <div className=\"columns is-mobile is-centered has-text-centered\">\n                        <div className=\"column is-half-widescreen is-three-fifths-tablet is-three-quarters-mobile is-centered margin\">\n                            <h1 className=\"title is-1 white\">{welcome__title}</h1>\n                            <h5 className=\"subtitle is-5 white\">{welcome__subtitle}</h5>\n                            <div className=\"is-grouped btn_grp\">\n                                <p className=\"control\"><Link to='/login' className=\"button is-danger is-outlined is-small is-rounded\">{login}</Link></p>\n                                <p>&nbsp;</p>\n                                <p className=\"control\"><Link to='/register' className=\"button is-inverted is-outlined is-danger is-small is-rounded\">{register}</Link></p>\n                            </div>\n                        </div>\n                    </div>\n            </Fragment>} />\n            <Route exact path='/login' render={() => logic.userLoggedIn ? <Redirect to=\"/home\" /> : <Login onLogin={handleLogin} feedback={loginFeedback} onLanding={handleLanding} email={email} password={password} goBack={goBack} login={login}/>} />\n            <Route exact path='/register' render={() => logic.userLoggedIn ? <Redirect to=\"/home\" /> : <Register onRegistration={handleRegistration} feedback={registrationFeedback} onLanding={handleLanding} modalVisible={modalVisible} onLogin={handleToLogin} register={register} name={name} surname={surname} email={email} password={password} confirmPassword={confirmPassword} goBack={goBack} modal__feedback={modal__feedback}/>} />\n        </section>\n    }\n}\n\nexport default withRouter(Landing)"]},"metadata":{},"sourceType":"module"}