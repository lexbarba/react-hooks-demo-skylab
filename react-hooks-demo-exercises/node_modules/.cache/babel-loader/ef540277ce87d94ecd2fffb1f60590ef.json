{"ast":null,"code":"var _jsxFileName = \"/Users/alexbarba/bootcamp/react-hooks-demo/marvel-app/src/components/Search/index.js\";\nimport React from 'react';\nimport CharacterInfoResult from '../CharacterInfoResult';\nimport SearchResults from '../SearchResults';\nimport logic from '../../Logic';\nexport default function Search() {\n  var _this3 = this;\n\n  state = {\n    query: null,\n    characters: null,\n    feedback: null,\n    character: null,\n    searching: null\n  };\n\n  function handleSearch() {\n    var _this = this;\n\n    try {\n      this.setState({\n        searching: true,\n        characters: null,\n        character: null\n      });\n      logic.searchCharacter(this.state.query).then(function (characters) {\n        var results = characters.results;\n\n        _this.setState({\n          searching: null,\n          feedback: null,\n          characters: results.map(function (_ref) {\n            var id = _ref.id,\n                name = _ref.name,\n                _ref$thumbnail = _ref.thumbnail,\n                path = _ref$thumbnail.path,\n                extension = _ref$thumbnail.extension;\n            return {\n              id: id,\n              name: name,\n              path: path,\n              extension: extension\n            };\n          })\n        });\n      }).catch(function (_ref2) {\n        var message = _ref2.message;\n        return _this.setState({\n          feedback: message,\n          searching: null,\n          characters: null\n        });\n      });\n    } catch (_ref3) {\n      var message = _ref3.message;\n      this.setState({\n        feedback: message,\n        searching: null,\n        characters: null\n      });\n    }\n  }\n\n  function handleCharacterSelected(id) {\n    var _this2 = this;\n\n    try {\n      logic.retrieveCharacter(id).then(function (el) {\n        return _this2.setState({\n          character: el.results[0]\n        });\n      }).catch(function (_ref4) {\n        var message = _ref4.message;\n\n        _this2.setState({\n          character: null\n        });\n\n        _this2.setState({\n          message: message\n        });\n      });\n    } catch (_ref5) {\n      var message = _ref5.message;\n      this.setState({\n        character: null\n      });\n      this.setState({\n        message: message\n      });\n    }\n  }\n\n  return React.createElement(\"section\", {\n    className: \"margin-top\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"columns is-mobile is-centered\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: function onSubmit(e) {\n      e.preventDefault();\n      handleSearch();\n    },\n    className: \"field has-addons has-addons-centered\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"control has-icons-left is-expanded\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    onChange: function onChange(e) {\n      return _this3.setState({\n        query: e.target.value\n      });\n    },\n    className: \"input is-small is-rounded\",\n    placeholder: \"Look for your character!\",\n    type: \"text\",\n    name: \"query\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"icon is-small is-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-bolt\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"button is-small is-rounded is-warning\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Search\"))))), React.createElement(SearchResults, {\n    characters: characters,\n    searching: searching,\n    feedback: feedback,\n    onCharacterSelected: handleCharacterSelected,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(CharacterInfoResult, {\n    character: character,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/Users/alexbarba/bootcamp/react-hooks-demo/marvel-app/src/components/Search/index.js"],"names":["React","CharacterInfoResult","SearchResults","logic","Search","state","query","characters","feedback","character","searching","handleSearch","setState","searchCharacter","then","results","map","id","name","thumbnail","path","extension","catch","message","handleCharacterSelected","retrieveCharacter","el","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React from 'react'\nimport CharacterInfoResult from '../CharacterInfoResult'\nimport SearchResults from '../SearchResults'\nimport logic from '../../Logic'\n\n\nexport default function Search() {\n\n    state = { query: null, characters: null, feedback: null, character: null, searching: null}\n\n    function handleSearch () {\n        try {\n            this.setState({ searching: true, characters: null, character: null })\n            logic.searchCharacter(this.state.query)\n                .then(characters => {\n                    const {results} = characters\n                    this.setState({\n                        searching: null,\n                        feedback: null,\n                        characters: results.map(({ id, name, thumbnail: {path,extension} }) => ({id, name, path, extension}))\n                    })\n                })\n                .catch(({ message }) => this.setState({ feedback: message, searching: null, characters: null }))\n        } catch ({ message }) {\n            this.setState({ feedback: message, searching: null,characters: null })\n        }\n    }\n\n    function handleCharacterSelected(id) {\n        try {\n        logic.retrieveCharacter(id)\n            .then(el => this.setState({character: el.results[0]}))\n            .catch(({ message }) => {\n                this.setState({character: null})\n                this.setState({message}) \n            })\n        } catch ({ message }) {\n            this.setState({character: null})\n            this.setState({message}) \n        }\n    }\n\n\n\n    return <section className=\"margin-top\">\n        <div className=\"columns is-mobile is-centered\">\n            <div className=\"column\"> \n                <form onSubmit={(e) => {e.preventDefault(); handleSearch()}} className=\"field has-addons has-addons-centered\">\n                    <div className=\"control has-icons-left is-expanded\">\n                        <input onChange={e => this.setState({query: e.target.value})} className=\"input is-small is-rounded\" placeholder=\"Look for your character!\" type=\"text\" name=\"query\"></input>\n                        <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-bolt\"></i>\n                        </span>\n                    </div>\n                    <div className=\"control\">\n                        <button className=\"button is-small is-rounded is-warning\"type=\"submit\">Search</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n        <SearchResults characters={characters} searching={searching} feedback={feedback} onCharacterSelected={handleCharacterSelected} />\n        <CharacterInfoResult character={character}/>\n    </section>\n\n}"]},"metadata":{},"sourceType":"module"}