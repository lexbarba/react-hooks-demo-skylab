{"ast":null,"code":"import _slicedToArray from \"/Users/alexbarba/bootcamp/react-hooks-demo/marvel-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/alexbarba/bootcamp/react-hooks-demo/marvel-app/src/components/Search/index.js\";\nimport React, { useState } from 'react';\nimport CharacterInfoResult from '../CharacterInfoResult';\nimport SearchResults from '../SearchResults';\nimport logic from '../../Logic';\nexport default function Search() {\n  var _this3 = this;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      query = _useState2[0],\n      setQuery = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      feedback = _useState4[0],\n      setFeedback = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      character = _useState6[0],\n      setCharacter = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      characters = _useState8[0],\n      setCharacters = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      searching = _useState10[0],\n      setSearching = _useState10[1];\n\n  function handleSearch() {\n    var _this = this;\n\n    try {\n      setSearching(true);\n      setCharacters(null);\n      setCharacter(null);\n      logic.searchCharacter(query).then(function (characters) {\n        var results = characters.results;\n\n        _this.setState({\n          searching: null,\n          feedback: null,\n          characters: results.map(function (_ref) {\n            var id = _ref.id,\n                name = _ref.name,\n                _ref$thumbnail = _ref.thumbnail,\n                path = _ref$thumbnail.path,\n                extension = _ref$thumbnail.extension;\n            return {\n              id: id,\n              name: name,\n              path: path,\n              extension: extension\n            };\n          })\n        });\n      }).catch(function (_ref2) {\n        var message = _ref2.message;\n        return _this.setState({\n          feedback: message,\n          searching: null,\n          characters: null\n        });\n      });\n    } catch (_ref3) {\n      var message = _ref3.message;\n      this.setState({\n        feedback: message,\n        searching: null,\n        characters: null\n      });\n    }\n  }\n\n  function handleCharacterSelected(id) {\n    var _this2 = this;\n\n    try {\n      logic.retrieveCharacter(id).then(function (el) {\n        return _this2.setState({\n          character: el.results[0]\n        });\n      }).catch(function (_ref4) {\n        var message = _ref4.message;\n\n        _this2.setState({\n          character: null\n        });\n\n        _this2.setState({\n          message: message\n        });\n      });\n    } catch (_ref5) {\n      var message = _ref5.message;\n      this.setState({\n        character: null\n      });\n      this.setState({\n        message: message\n      });\n    }\n  }\n\n  return React.createElement(\"section\", {\n    className: \"margin-top\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"columns is-mobile is-centered\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: function onSubmit(e) {\n      e.preventDefault();\n      handleSearch();\n    },\n    className: \"field has-addons has-addons-centered\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"control has-icons-left is-expanded\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    onChange: function onChange(e) {\n      return _this3.setState({\n        query: e.target.value\n      });\n    },\n    className: \"input is-small is-rounded\",\n    placeholder: \"Look for your character!\",\n    type: \"text\",\n    name: \"query\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"icon is-small is-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-bolt\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"control\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"button is-small is-rounded is-warning\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Search\"))))), React.createElement(SearchResults, {\n    characters: characters,\n    searching: searching,\n    feedback: feedback,\n    onCharacterSelected: handleCharacterSelected,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(CharacterInfoResult, {\n    character: character,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/Users/alexbarba/bootcamp/react-hooks-demo/marvel-app/src/components/Search/index.js"],"names":["React","useState","CharacterInfoResult","SearchResults","logic","Search","query","setQuery","feedback","setFeedback","character","setCharacter","characters","setCharacters","searching","setSearching","handleSearch","searchCharacter","then","results","setState","map","id","name","thumbnail","path","extension","catch","message","handleCharacterSelected","retrieveCharacter","el","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport CharacterInfoResult from '../CharacterInfoResult'\nimport SearchResults from '../SearchResults'\nimport logic from '../../Logic'\n\n\nexport default function Search() {\n\n    const [query, setQuery] = useState(null)\n    const [feedback, setFeedback] = useState(null)\n    const [character, setCharacter] = useState(null)\n    const [characters, setCharacters] = useState(null)\n    const [searching, setSearching] = useState(null)\n\n\n    function handleSearch () {\n        try {\n            setSearching(true)\n            setCharacters(null)\n            setCharacter(null)\n            logic.searchCharacter(query)\n                .then(characters => {\n                    const {results} = characters\n                    this.setState({\n                        searching: null,\n                        feedback: null,\n                        characters: results.map(({ id, name, thumbnail: {path,extension} }) => ({id, name, path, extension}))\n                    })\n                })\n                .catch(({ message }) => this.setState({ feedback: message, searching: null, characters: null }))\n        } catch ({ message }) {\n            this.setState({ feedback: message, searching: null,characters: null })\n        }\n    }\n\n    function handleCharacterSelected(id) {\n        try {\n        logic.retrieveCharacter(id)\n            .then(el => this.setState({character: el.results[0]}))\n            .catch(({ message }) => {\n                this.setState({character: null})\n                this.setState({message}) \n            })\n        } catch ({ message }) {\n            this.setState({character: null})\n            this.setState({message}) \n        }\n    }\n\n\n\n    return <section className=\"margin-top\">\n        <div className=\"columns is-mobile is-centered\">\n            <div className=\"column\"> \n                <form onSubmit={(e) => {e.preventDefault(); handleSearch()}} className=\"field has-addons has-addons-centered\">\n                    <div className=\"control has-icons-left is-expanded\">\n                        <input onChange={e => this.setState({query: e.target.value})} className=\"input is-small is-rounded\" placeholder=\"Look for your character!\" type=\"text\" name=\"query\"></input>\n                        <span className=\"icon is-small is-left\">\n                            <i className=\"fas fa-bolt\"></i>\n                        </span>\n                    </div>\n                    <div className=\"control\">\n                        <button className=\"button is-small is-rounded is-warning\"type=\"submit\">Search</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n        <SearchResults characters={characters} searching={searching} feedback={feedback} onCharacterSelected={handleCharacterSelected} />\n        <CharacterInfoResult character={character}/>\n    </section>\n\n}"]},"metadata":{},"sourceType":"module"}